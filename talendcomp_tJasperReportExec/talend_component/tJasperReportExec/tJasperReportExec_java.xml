<COMPONENT>

  <HEADER
    PLATEFORM="ALL"
    SERIAL=""
    VERSION="1.16"
    STATUS="PROD"
    
    COMPATIBILITY="ALL"
    AUTHOR="cimt ag"
    RELEASE_DATE="20140801A"
    STARTABLE="true"
  >
    <SIGNATURE />
  </HEADER>

  <FAMILIES>
    <FAMILY>Business_Intelligence/Jasper</FAMILY>
  </FAMILIES>

  <DOCUMENTATION>
    <URL />
  </DOCUMENTATION>

  <CONNECTORS>
    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="1" />
    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" MAX_OUTPUT="1"/>
    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" MAX_OUTPUT="1"/>
    <CONNECTOR CTYPE="COMPONENT_OK" />
    <CONNECTOR CTYPE="COMPONENT_ERROR" />
    <CONNECTOR CTYPE="RUN_IF" />
  </CONNECTORS>

  <PARAMETERS>

	<PARAMETER NAME="DATASOURCE" FIELD="CLOSED_LIST" NUM_ROW="1" REQUIRED="true">
    	<ITEMS DEFAULT="DB_CONNECTION">
    		<ITEM NAME="DB_CONNECTION" VALUE="DB_CONNECTION" />
    		<ITEM NAME="XML_FILE" VALUE="XML_FILE" />
    		<ITEM NAME="DUMMY_DS" VALUE="DUMMY_DS" />
    	</ITEMS>
    </PARAMETER>

	<PARAMETER NAME="CONNECTION" FIELD="COMPONENT_LIST"
			FILTER="REGEXP:^(.)*(Connection)(.)*" NUM_ROW="2"
			DYNAMIC_SETTINGS="true" SHOW_IF="DATASOURCE == 'DB_CONNECTION'"/>

    <PARAMETER NAME="XML_DS_FILE" FIELD="FILE" NUM_ROW="2" REQUIRED="true" SHOW_IF="DATASOURCE == 'XML_FILE'">
      <DEFAULT>"/path/to/xmlfile"</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="XML_USE_SELECT_EXPR_FROM_REPORT" FIELD="CHECK" NUM_ROW="3" SHOW_IF="DATASOURCE == 'XML_FILE'">
      <DEFAULT>true</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="XML_SELECT_EXPR" FIELD="TEXT" NUM_ROW="3" SHOW_IF="(DATASOURCE == 'XML_FILE') and (XML_USE_SELECT_EXPR_FROM_REPORT == 'false')">
      <DEFAULT>"."</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="XML_DATE_PATTERN" FIELD="TEXT" NUM_ROW="4" SHOW_IF="DATASOURCE == 'XML_FILE'">
      <DEFAULT>"dd.MM.yyyy"</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="XML_NUMBER_PATTERN" FIELD="TEXT" NUM_ROW="4" SHOW_IF="DATASOURCE == 'XML_FILE'">
      <DEFAULT>"###0.00;-###0.00"</DEFAULT>
    </PARAMETER>
    
    <PARAMETER NAME="DUMMY_DS_NUMBER_RECORDS" FIELD="TEXT" NUM_ROW="2" SHOW_IF="DATASOURCE == 'DUMMY_DS'" REQUIRED="true">
      <DEFAULT>1</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="JRXML_FILE" FIELD="FILE" NUM_ROW="10" REQUIRED="true">
      <DEFAULT>""</DEFAULT>
    </PARAMETER>
    
	<PARAMETER NAME="OUTPUT_TYPE" FIELD="CLOSED_LIST" NUM_ROW="20" REQUIRED="true">
    	<ITEMS DEFAULT="PDF">
    		<ITEM NAME="CSV" VALUE="CSV" />
    		<ITEM NAME="DOCX" VALUE="DOCX" />
    		<ITEM NAME="HTML" VALUE="HTML" />
    		<ITEM NAME="ODT" VALUE="ODT" />
    		<ITEM NAME="ODS" VALUE="ODS" />
    		<ITEM NAME="PDF" VALUE="PDF" />
    		<ITEM NAME="RTF" VALUE="RTF" />
    		<ITEM NAME="TEXT" VALUE="TXT" />
    		<ITEM NAME="XLS" VALUE="XLS" />
    		<ITEM NAME="XLSX" VALUE="XLSX" />
    		<ITEM NAME="PPTX" VALUE="PPTX" />
    	</ITEMS>
    </PARAMETER>

    <PARAMETER NAME="OUTPUT_LOCALE" FIELD="TEXT" NUM_ROW="30" >
      <DEFAULT>"de"</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="OUTPUT_DIR" FIELD="TEXT" NUM_ROW="40" REQUIRED="true">
      <DEFAULT>""</DEFAULT>
    </PARAMETER>
    
    <PARAMETER NAME="OUTPUT_FILENAME" FIELD="TEXT" NUM_ROW="50" REQUIRED="true">
      <DEFAULT>"report_out"</DEFAULT>
    </PARAMETER>
    
    <PARAMETER NAME="OVERWRITE_FILES" FIELD="CHECK" NUM_ROW="60" >
    	<DEFAULT>true</DEFAULT>
    </PARAMETER>
    
    <PARAMETER NAME="CREATE_DIRS" FIELD="CHECK" NUM_ROW="60" >
    	<DEFAULT>true</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="SEQUENTIAL_FILENAMES" FIELD="CHECK" NUM_ROW="70" >
    	<DEFAULT>true</DEFAULT>
    </PARAMETER>

    <PARAMETER NAME="TIMESTAMP_PATTERN" FIELD="TEXT" NUM_ROW="70" REQUIRED="true" SHOW_IF="SEQUENTIAL_FILENAMES == 'true'">
    	<DEFAULT>"yyyyMMdd_HHmmss"</DEFAULT>
    </PARAMETER>

 	<PARAMETER NAME="REPORT_PARAMS" FIELD="TABLE" NUM_ROW="80" NB_LINES="5">
      <ITEMS>
        <ITEM NAME="PARAM_NAME" FIELD="String" VALUE='"parameterName"'/>
        <ITEM NAME="PARAM_VALUE" FIELD="String" VALUE='"parameterValue"'/>
		<ITEM NAME="PARAM_TYPE" VALUE="String" FIELD="CLOSED_LIST">
			<ITEMS DEFAULT="NoConversion">
        		<ITEM NAME="NoConversion"  	VALUE="NoConversion"/>
        		<ITEM NAME="BigDecimal"  	VALUE="BigDecimal"/>
        		<ITEM NAME="Boolean"  		VALUE="Boolean"/>
        		<ITEM NAME="Date" 			VALUE="Date"/>
        		<ITEM NAME="Double"			VALUE="Double"/>
        		<ITEM NAME="Float" 			VALUE="Float"/>
        		<ITEM NAME="Int" 			VALUE="Int"/>
        		<ITEM NAME="Long" 			VALUE="Long"/>
        		<ITEM NAME="Short" 		    VALUE="Short"/>
        		<ITEM NAME="String" 		VALUE="String"/>
        		<ITEM NAME="Timestamp" 		VALUE="Timestamp"/>
        	</ITEMS>
		</ITEM>
        <ITEM NAME="PARAM_IS_COLLECTION" FIELD="CHECK"/>
      </ITEMS>
	</PARAMETER>
    
    <PARAMETER NAME="COLLECTION_DELIMITER" FIELD="TEXT" NUM_ROW="90">
      <DEFAULT>"|"</DEFAULT>
    </PARAMETER>
    
    <PARAMETER NAME="CONVERSION_PATTERN" FIELD="TEXT" NUM_ROW="100">
      <DEFAULT>"yyyy-MM-dd"</DEFAULT>
    </PARAMETER>

  </PARAMETERS>

	<ADVANCED_PARAMETERS>
		<PARAMETER 
			FIELD="CHECK" 
			NAME="XLS_IS_DETECT_CELL_TYPE" 
			NUM_ROW="10" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>true</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="CHECK" 
			NAME="XLS_IS_WHITE_PAGE_BACKGROUND" 
			NUM_ROW="20" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="CHECK" 
			NAME="XLS_IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS" 
			NUM_ROW="30" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>true</DEFAULT>
		</PARAMETER>
		<PARAMETER 
			FIELD="CHECK" 
			NAME="XLS_IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS" 
			NUM_ROW="40" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>true</DEFAULT>
		</PARAMETER>
		<PARAMETER
			FIELD="CHECK" 
			NAME="XLS_IS_ONE_PAGE_PER_SHEET" 
			NUM_ROW="50" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>
		<PARAMETER
			FIELD="FILE" 
			NAME="XLS_WORKBOOK_TEMPLATE" 
			NUM_ROW="60" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT></DEFAULT>
		</PARAMETER>
		<PARAMETER
			FIELD="CHECK"
			NAME="XLS_WORKBOOK_TEMPLATE_KEEP_SHEETS" 
			NUM_ROW="60" 
			GROUP="OPTIONS_XLS_XLSX"
			SHOW_IF="(OUTPUT_TYPE == 'XLS') or (OUTPUT_TYPE == 'XLSX')">
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

	    <PARAMETER 
	   		NAME="PDF_IS_COMPRESSED" 
	   		FIELD="CHECK" 
	   		NUM_ROW="10" 
			GROUP="OPTIONS_PDF"
	   		SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT>false</DEFAULT>
	    </PARAMETER>
		
	    <PARAMETER 
	    	NAME="PDF_IS_CREATING_BATCH_MODE_BOOKMARKS" 
	    	FIELD="CHECK" 
	    	NUM_ROW="20" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT>false</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_IS_ENCRYPTED"
	    	FIELD="CHECK" 
	    	NUM_ROW="30" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT>false</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_IS_128_BIT_KEY" 
	    	FIELD="CHECK" 
	    	NUM_ROW="30" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="(OUTPUT_TYPE == 'PDF') and (PDF_IS_ENCRYPTED == 'true')" >
	      <DEFAULT>true</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_PASSWORD" 
	    	FIELD="TEXT" 
	    	NUM_ROW="30" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="(OUTPUT_TYPE == 'PDF') and (PDF_IS_ENCRYPTED == 'true')" 
	    	REQUIRED="true">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_AUTHOR" 
	    	FIELD="TEXT" 
	    	NUM_ROW="40" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_CREATOR" 
	    	FIELD="TEXT" 
	    	NUM_ROW="50" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_TITLE" 
	    	FIELD="TEXT" 
	    	NUM_ROW="60" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_SUBJECT" 
	    	FIELD="TEXT" 
	    	NUM_ROW="70" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	 	<PARAMETER 
	 		NAME="PDF_VERSION" 
	 		FIELD="CLOSED_LIST" 
	 		NUM_ROW="80" 
	 		NB_LINES="6"
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
			<ITEMS DEFAULT="VERSION_1_4">
        		<ITEM NAME="VERSION_1_2"  VALUE="2"/>
        		<ITEM NAME="VERSION_1_3"  VALUE="3"/>
        		<ITEM NAME="VERSION_1_4"  VALUE="4"/>
        		<ITEM NAME="VERSION_1_5"  VALUE="5"/>
        		<ITEM NAME="VERSION_1_6"  VALUE="6"/>
        		<ITEM NAME="VERSION_1_7"  VALUE="7"/>
        	</ITEMS>
		</PARAMETER>

	    <PARAMETER 
	    	NAME="PDF_KEYWORDS" 
	    	FIELD="TEXT" 
	    	NUM_ROW="90" 
			GROUP="OPTIONS_PDF"
	    	SHOW_IF="OUTPUT_TYPE == 'PDF'">
	      <DEFAULT></DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="USE_JAVA_AS_LANG" 
	    	FIELD="CHECK" 
	    	NUM_ROW="100">
	      <DEFAULT>false</DEFAULT>
	    </PARAMETER>

	</ADVANCED_PARAMETERS>

  <CODEGENERATION>
	<IMPORTS>
      <IMPORT NAME="cimtJasperReportExec" MODULE="tJasperReportExec-1.16-jar-with-dependencies.jar" REQUIRED="true" />   
    </IMPORTS>
  </CODEGENERATION>

  <RETURNS>
    <RETURN NAME="OUTPUT_FILE" TYPE="id_String" AVAILABILITY="AFTER" />
    <RETURN NAME="NUMBER_OF_PAGES" TYPE="id_Integer" AVAILABILITY="AFTER" />
    <RETURN NAME="REPORT_QUERY" TYPE="id_String" AVAILABILITY="AFTER" />
  </RETURNS>

</COMPONENT>